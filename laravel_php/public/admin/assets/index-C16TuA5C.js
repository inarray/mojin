import{J as M,I as P,m as V,l as B,L as F,M as U,_ as q,i as z,K as D}from"./element-plus-Y_HEZpl5.js";import{a as K}from"./message-v4a8zeAk.js";import{u as O}from"./usePaging-Dtz4iZyr.js";import{g as S}from"./index-jouMZIAs.js";import{d as y,r as j,a0 as I,a1 as J,aj as G,aq as H,c as g,o as n,U as t,L as e,M as v,u as i,i as N,T as Q,ab as W,K as p,R as d}from"./@vue-DjVelRet.js";import"./@element-plus-IF8r_1z4.js";import"./lodash-es-BHGf2eTs.js";import"./dayjs-Mv9jwnDt.js";import"./@popperjs-D_chPuIy.js";import"./async-validator-9PlIezaS.js";import"./@ctrl-r5W6hzzQ.js";import"./normalize-wheel-es-BQoi3Ox2.js";import"./nprogress-DYbUr3Ql.js";import"./vue-router-DifUqGFW.js";import"./pinia-D1_qSsvX.js";import"./axios-DIsA03vz.js";import"./lodash-wrSAtCJj.js";import"./@vueuse-DbKvT5Ch.js";import"./css-color-function-DsMtFL6v.js";import"./balanced-match-BdS7OldZ.js";import"./color-DYO1E7y4.js";import"./clone-Ddk2tjDh.js";import"./color-convert-DsNsD289.js";import"./color-name-Dju3oUBS.js";import"./color-string-pUQDDJII.js";import"./ms-CzQ2E3wO.js";import"./vue-clipboard3-DXsJvHIW.js";import"./clipboard-DPX9bJ1T.js";import"./echarts-CXZcVnUo.js";import"./tslib-BDyQ-Jie.js";import"./zrender-DO4NV0px.js";import"./highlight.js--xG_hASo.js";import"./@highlightjs-DcY7_PRf.js";const X=y({name:"notice"}),Pt=y({...X,setup(Y){let c;(r=>{r[r.USER=1]="USER",r[r.PLATFORM=2]="PLATFORM"})(c||(c={}));const l=j(1),T=[{name:"通知用户",type:1},{name:"通知平台",type:2}],w=I({recipient:l}),{pager:u,getLists:_}=O({fetchFun:K,params:w});return J(()=>{_()}),_(),(r,o)=>{const k=M,f=P,E=B,h=V,s=U,b=q,L=G("router-link"),C=z,R=F,x=H("perms"),A=D;return n(),g("div",null,[t(f,{class:"!border-none",shadow:"never"},{default:e(()=>[t(k,{type:"warning",title:"温馨提示：平台配置在各个场景下的通知发送方式和内容模板",closable:!1,"show-icon":""})]),_:1}),t(f,{class:"!border-none mt-4",shadow:"never"},{default:e(()=>[t(h,{modelValue:i(l),"onUpdate:modelValue":o[0]||(o[0]=a=>N(l)?l.value=a:null),onTabChange:i(_)},{default:e(()=>[(n(),g(Q,null,W(T,(a,m)=>t(E,{key:m,label:a.name,name:a.type,lazy:""},null,8,["label","name"])),64))]),_:1},8,["modelValue","onTabChange"]),v((n(),p(R,{size:"large",data:i(u).lists},{default:e(()=>[t(s,{label:"通知场景",prop:"scene_name","min-width":"120"}),t(s,{label:"通知类型",prop:"type_desc","min-width":"160"}),t(s,{label:"短信通知","min-width":"80"},{default:e(({row:a})=>{var m;return[((m=a.sms_notice)==null?void 0:m.status)==1?(n(),p(b,{key:0},{default:e(()=>o[1]||(o[1]=[d("开启")])),_:1})):(n(),p(b,{key:1,type:"danger"},{default:e(()=>o[2]||(o[2]=[d("关闭")])),_:1}))]}),_:1}),t(s,{label:"操作","min-width":"80",fixed:"right"},{default:e(({row:a})=>[v((n(),p(C,{type:"primary",link:""},{default:e(()=>[t(L,{to:{path:i(S)("notice.notice/set"),query:{id:a.id}}},{default:e(()=>o[3]||(o[3]=[d(" 设置 ")])),_:2},1032,["to"])]),_:2},1024)),[[x,["notice.notice/set"]]])]),_:1})]),_:1},8,["data"])),[[A,i(u).loading]])]),_:1})])}}});export{Pt as default};
