import{D as S,B as q,O as F,P as O,C as L,h as j,g as A}from"./element-plus-Dexv8m38.js";import{_ as H}from"./picker-B75jrQ9B.js";import{r as p}from"./index-RwF53efZ.js";import{P as K}from"./index-CiZ7u30k.js";import{d as w,r as f,b as T,a0 as z,K as c,o as b,u as o,L as r,U as t,P as y,a as G}from"./@vue-ygbFPFRc.js";function le(a){return p.get({url:"/content.banner/lists",params:a})}function J(a){return p.get({url:"/content.banner/detail",params:a})}function M(a){return p.post({url:"/content.banner/add",params:a})}function Q(a){return p.post({url:"/content.banner/edit",params:a})}function te(a){return p.post({url:"/content.banner/delete",params:a})}function oe(a){return p.post({url:"/content.banner/status",params:a})}const W=w({name:"contentBannerEdit"}),ne=w({...W,emits:["success","close"],setup(a,{expose:x,emit:E}){const V=E,m=f(),g=f(),_=f("add"),U=T(()=>_.value==="add"?"添加轮播图":"编辑轮播图"),e=z({id:0,type:1,title:"",image:"",link_type:0,link_url:"",ref_id:0,sort:0,is_show:1}),C={type:[{required:!0,message:"请选择页面类型",trigger:"change"}],image:[{required:!0,message:"请上传图片",trigger:"change"}]},D=()=>{e.id=0,e.type=1,e.title="",e.image="",e.link_type=0,e.link_url="",e.ref_id=0,e.sort=0,e.is_show=1},h=async(i,l)=>{var u;if(_.value=i,D(),(u=m.value)==null||u.open(),i==="edit"&&l){const d=await J({id:l});Object.assign(e,d)}},B=async()=>{var i,l;await((i=g.value)==null?void 0:i.validate()),_.value==="edit"?await Q(e):await M(e),(l=m.value)==null||l.close(),V("success")},I=()=>{V("close")};return x({open:h}),(i,l)=>{const u=O,d=F,s=q,R=H,k=L,v=j,N=A,P=S;return b(),c(K,{ref_key:"popupRef",ref:m,title:o(U),async:!0,width:"550px",onConfirm:B,onClose:I},{default:r(()=>[t(P,{ref_key:"formRef",ref:g,model:o(e),rules:C,"label-width":"100px"},{default:r(()=>[t(s,{label:"页面类型",prop:"type"},{default:r(()=>[t(d,{modelValue:o(e).type,"onUpdate:modelValue":l[0]||(l[0]=n=>o(e).type=n),placeholder:"请选择页面类型",class:"w-full"},{default:r(()=>[t(u,{label:"案例页",value:1}),t(u,{label:"百科页",value:2}),t(u,{label:"价格反馈页",value:3})]),_:1},8,["modelValue"])]),_:1}),t(s,{label:"轮播图片",prop:"image"},{default:r(()=>[t(R,{modelValue:o(e).image,"onUpdate:modelValue":l[1]||(l[1]=n=>o(e).image=n),limit:1},null,8,["modelValue"])]),_:1}),t(s,{label:"标题",prop:"title"},{default:r(()=>[t(k,{modelValue:o(e).title,"onUpdate:modelValue":l[2]||(l[2]=n=>o(e).title=n),placeholder:"请输入标题（选填）",maxlength:"100"},null,8,["modelValue"])]),_:1}),t(s,{label:"跳转类型",prop:"link_type"},{default:r(()=>[t(d,{modelValue:o(e).link_type,"onUpdate:modelValue":l[3]||(l[3]=n=>o(e).link_type=n),placeholder:"请选择跳转类型",class:"w-full"},{default:r(()=>[t(u,{label:"无跳转",value:0}),t(u,{label:"H5链接",value:1}),t(u,{label:"小程序页面",value:2}),t(u,{label:"内容详情",value:3})]),_:1},8,["modelValue"])]),_:1}),o(e).link_type===1||o(e).link_type===2?(b(),c(s,{key:0,label:"跳转地址",prop:"link_url"},{default:r(()=>[t(k,{modelValue:o(e).link_url,"onUpdate:modelValue":l[4]||(l[4]=n=>o(e).link_url=n),placeholder:"请输入跳转地址",maxlength:"255"},null,8,["modelValue"])]),_:1})):y("",!0),o(e).link_type===3?(b(),c(s,{key:1,label:"关联内容ID",prop:"ref_id"},{default:r(()=>[t(v,{modelValue:o(e).ref_id,"onUpdate:modelValue":l[5]||(l[5]=n=>o(e).ref_id=n),min:0,placeholder:"请输入内容ID"},null,8,["modelValue"])]),_:1})):y("",!0),t(s,{label:"排序",prop:"sort"},{default:r(()=>[t(v,{modelValue:o(e).sort,"onUpdate:modelValue":l[6]||(l[6]=n=>o(e).sort=n),min:0,max:9999},null,8,["modelValue"]),l[8]||(l[8]=G("div",{class:"form-tips"},"数值越大越靠前",-1))]),_:1}),t(s,{label:"显示状态",prop:"is_show"},{default:r(()=>[t(N,{modelValue:o(e).is_show,"onUpdate:modelValue":l[7]||(l[7]=n=>o(e).is_show=n),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title"])}}});export{ne as _,te as a,le as b,oe as c};
