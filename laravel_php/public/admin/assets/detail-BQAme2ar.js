import{d as C,n as q,h as g,s as R,z as A,o as d,a as N,k as t,w as a,e as s,b as f,m as r,t as i,B as c,C as v,Z as V,$ as z,v as F,q as M}from"./index-CAdEGE5y.js";import{E as S,a as U}from"./el-form-item-C9m7NFov.js";import{_ as H}from"./index.vue_vue_type_script_setup_true_lang-CWZC40pw.js";import{E as I}from"./el-card-BIBczm-x.js";import{E as O}from"./el-page-header-YAbdx0Td.js";import{g as T,u as Z,a as G}from"./consumer-DxUwOl45.js";import{_ as J}from"./account-adjust.vue_vue_type_script_setup_true_lang-CxsvB1J2.js";import"./_baseClone-BJpBIEiG.js";import"./_Uint8Array-m-IgZgaP.js";import"./_initCloneObject-DAVpBKRx.js";import"./el-popover-BOKUFvHK.js";import"./el-tag-C6jY50eF.js";import"./isEqual-Uz2oXqxO.js";import"./el-select-BSU4bs56.js";import"./index-BWSaVtQa.js";import"./token-DI9FKtlJ.js";/* empty css                       */import"./el-radio-B8Bjfixs.js";import"./index-CKG7kpOs.js";import"./index-DyY_X5TA.js";const K={class:"bg-page flex py-5 mb-10 items-center"},L={class:"basis-40 flex flex-col justify-center items-center"},Q={class:"basis-40 flex flex-col justify-center items-center"},W={class:"mt-2 flex items-center"},X=C({name:"consumerDetail"}),we=C({...X,setup(Y){const w=q(),o=g({avatar:"",channel:"",create_time:"",login_time:"",mobile:"",nickname:"",real_name:0,sex:0,sn:"",account:"",user_money:""}),u=g({show:!1,value:""}),h=R(),E=async()=>{const l=await T({id:w.query.id});Object.keys(o).forEach(e=>{o[e]=l[e]})},y=async(l,e)=>{V(l)||(await Z({id:w.query.id,field:e,value:l}),E())},j=l=>{u.show=!0,u.value=l},B=async l=>{await G({user_id:w.query.id,...l}),u.show=!1,E()};return E(),(l,e)=>{const D=O,k=I,$=z,_=F,m=S,b=M,x=H,P=U,p=A("perms");return d(),N("div",null,[t(k,{class:"!border-none",shadow:"never"},{default:a(()=>[t(D,{content:"用户详情",onBack:e[0]||(e[0]=n=>l.$router.back())})]),_:1}),t(k,{class:"mt-4 !border-none",header:"基本资料",shadow:"never"},{default:a(()=>[t(P,{ref_key:"formRef",ref:h,class:"ls-form",model:s(o),"label-width":"120px"},{default:a(()=>[f("div",K,[f("div",L,[e[7]||(e[7]=f("div",{class:"mb-2 text-tx-regular"},"用户头像",-1)),t($,{src:s(o).avatar,size:58},null,8,["src"])]),f("div",Q,[e[9]||(e[9]=f("div",{class:"text-tx-regular"},"账户余额",-1)),f("div",W,[r(" ¥"+i(s(o).user_money)+" ",1),c((d(),v(_,{type:"primary",link:"",onClick:e[1]||(e[1]=n=>j(s(o).user_money))},{default:a(()=>e[8]||(e[8]=[r(" 调整 ")])),_:1})),[[p,["user.user/adjustMoney"]]])])])]),t(m,{label:"用户昵称："},{default:a(()=>[r(i(s(o).nickname),1)]),_:1}),t(m,{label:"账号："},{default:a(()=>[r(i(s(o).account)+" ",1),c((d(),v(x,{class:"ml-[10px]",onConfirm:e[2]||(e[2]=n=>y(n,"account")),limit:32},{default:a(()=>[t(_,{type:"primary",link:""},{default:a(()=>[t(b,{name:"el-icon-EditPen"})]),_:1})]),_:1})),[[p,["user.user/edit"]]])]),_:1}),t(m,{label:"真实姓名："},{default:a(()=>[r(i(s(o).real_name||"-")+" ",1),c((d(),v(x,{class:"ml-[10px]",onConfirm:e[3]||(e[3]=n=>y(n,"real_name")),limit:32},{default:a(()=>[t(_,{type:"primary",link:""},{default:a(()=>[t(b,{name:"el-icon-EditPen"})]),_:1})]),_:1})),[[p,["user.user/edit"]]])]),_:1}),t(m,{label:"性别："},{default:a(()=>[r(i(s(o).sex)+" ",1),c((d(),v(x,{class:"ml-[10px]",type:"select",options:[{label:"未知",value:0},{label:"男",value:1},{label:"女",value:2}],onConfirm:e[4]||(e[4]=n=>y(n,"sex"))},{default:a(()=>[t(_,{type:"primary",link:""},{default:a(()=>[t(b,{name:"el-icon-EditPen"})]),_:1})]),_:1})),[[p,["user.user/edit"]]])]),_:1}),t(m,{label:"联系电话："},{default:a(()=>[r(i(s(o).mobile||"-")+" ",1),c((d(),v(x,{class:"ml-[10px]",type:"number",onConfirm:e[5]||(e[5]=n=>y(n,"mobile"))},{default:a(()=>[t(_,{type:"primary",link:""},{default:a(()=>[t(b,{name:"el-icon-EditPen"})]),_:1})]),_:1})),[[p,["user.user/edit"]]])]),_:1}),t(m,{label:"注册来源："},{default:a(()=>[r(i(s(o).channel),1)]),_:1}),t(m,{label:"注册时间："},{default:a(()=>[r(i(s(o).create_time),1)]),_:1}),t(m,{label:"最近登录时间："},{default:a(()=>[r(i(s(o).login_time),1)]),_:1})]),_:1},8,["model"])]),_:1}),t(J,{show:s(u).show,"onUpdate:show":e[6]||(e[6]=n=>s(u).show=n),value:s(u).value,onConfirm:B},null,8,["show","value"])])}}});export{we as default};
