import{D as R,B as k,C as y,h as B,g as U}from"./element-plus-Dexv8m38.js";import{a as D,b as F,c as I}from"./project-CreSpfIK.js";import{P as N}from"./index-CiZ7u30k.js";import{d as _,r as p,b as P,a0 as S,K as q,o as A,u as t,L as r,U as a,a as K}from"./@vue-ygbFPFRc.js";const L=_({name:"hospitalProjectEdit"}),J=_({...L,emits:["success","close"],setup(O,{expose:f,emit:w}){const d=w,u=p(),c=p(),i=p("add"),v=P(()=>i.value==="add"?"添加项目":"编辑项目"),e=S({id:0,name:"",sort:0,is_show:1}),b={name:[{required:!0,message:"请输入项目名称",trigger:"blur"}]},V=()=>{e.id=0,e.name="",e.sort=0,e.is_show=1},h=async(s,o)=>{var m;if(i.value=s,V(),(m=u.value)==null||m.open(),s==="edit"&&o){const l=await D({id:o});Object.assign(e,l)}},x=async()=>{var s,o;await((s=c.value)==null?void 0:s.validate()),i.value==="edit"?await F(e):await I(e),(o=u.value)==null||o.close(),d("success")},E=()=>{d("close")};return f({open:h}),(s,o)=>{const m=y,l=k,g=B,C=U,j=R;return A(),q(N,{ref_key:"popupRef",ref:u,title:t(v),async:!0,width:"500px",onConfirm:x,onClose:E},{default:r(()=>[a(j,{ref_key:"formRef",ref:c,model:t(e),rules:b,"label-width":"100px"},{default:r(()=>[a(l,{label:"项目名称",prop:"name"},{default:r(()=>[a(m,{modelValue:t(e).name,"onUpdate:modelValue":o[0]||(o[0]=n=>t(e).name=n),placeholder:"请输入项目名称",maxlength:"50"},null,8,["modelValue"])]),_:1}),a(l,{label:"排序",prop:"sort"},{default:r(()=>[a(g,{modelValue:t(e).sort,"onUpdate:modelValue":o[1]||(o[1]=n=>t(e).sort=n),min:0,max:9999},null,8,["modelValue"]),o[3]||(o[3]=K("div",{class:"form-tips"},"数值越大越靠前",-1))]),_:1}),a(l,{label:"状态",prop:"is_show"},{default:r(()=>[a(C,{modelValue:t(e).is_show,"onUpdate:modelValue":o[2]||(o[2]=n=>t(e).is_show=n),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title"])}}});export{J as _};
